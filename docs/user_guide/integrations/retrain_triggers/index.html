<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../data_sources/ rel=prev><link href=../../rbac/ rel=next><link rel=icon href=../../../assets/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.10"><title>Retrain triggers - ML cube Platform Documentation</title><link rel=stylesheet href=../../../assets/stylesheets/main.7e359304.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Poppins";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script> <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#supported-triggers class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="ML cube Platform Documentation" class="md-header__button md-logo" aria-label="ML cube Platform Documentation" data-md-component=logo> <img src=../../../assets/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ML cube Platform Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Retrain triggers </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../api/ class=md-tabs__link> API </a> </li> <li class=md-tabs__item> <a href=https://app.platform.mlcube.com/ class=md-tabs__link> Web App </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="ML cube Platform Documentation" class="md-nav__button md-logo" aria-label="ML cube Platform Documentation" data-md-component=logo> <img src=../../../assets/logo.svg alt=logo> </a> ML cube Platform Documentation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=../../.. class="md-nav__link "> <span class=md-ellipsis> Home </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> User Guide </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__container"> <a href=../../modules/ class="md-nav__link "> <span class=md-ellipsis> Modules </span> </a> <label class="md-nav__link " for=__nav_2_2 id=__nav_2_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Modules </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../modules/monitoring/ class=md-nav__link> <span class=md-ellipsis> Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../../modules/retraining/ class=md-nav__link> <span class=md-ellipsis> Retraining </span> </a> </li> <li class=md-nav__item> <a href=../../modules/business/ class=md-nav__link> <span class=md-ellipsis> Business mode </span> </a> </li> <li class=md-nav__item> <a href=../../modules/labeling/ class=md-nav__link> <span class=md-ellipsis> Labeling </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Integrations </span> </a> <label class="md-nav__link " for=__nav_2_3 id=__nav_2_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../data_sources/ class=md-nav__link> <span class=md-ellipsis> Data Sources </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Retrain triggers </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Retrain triggers </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#supported-triggers class=md-nav__link> <span class=md-ellipsis> Supported Triggers </span> </a> <nav class=md-nav aria-label="Supported Triggers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#event-bus-setup class=md-nav__link> <span class=md-ellipsis> Event Bus Setup </span> </a> </li> <li class=md-nav__item> <a href=#topic-setup class=md-nav__link> <span class=md-ellipsis> Topic Setup </span> </a> </li> <li class=md-nav__item> <a href=#topic-setup_1 class=md-nav__link> <span class=md-ellipsis> Topic Setup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex> <span class=md-ellipsis> Other resources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Other resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../rbac/ class=md-nav__link> <span class=md-ellipsis> User Roles </span> </a> </li> <li class=md-nav__item> <a href=../../detection_event_rules/ class=md-nav__link> <span class=md-ellipsis> Detection Event Rules </span> </a> </li> <li class=md-nav__item> <a href=../../data_schema/ class=md-nav__link> <span class=md-ellipsis> Data Schema </span> </a> </li> <li class=md-nav__item> <a href=../../glossary/ class=md-nav__link> <span class=md-ellipsis> Glossary </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../../api/ class="md-nav__link "> <span class=md-ellipsis> API </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__container"> <a href=../../../api/python/ class="md-nav__link "> <span class=md-ellipsis> Python SDK </span> </a> <label class="md-nav__link " for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Python SDK </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/python/client/ class=md-nav__link> <span class=md-ellipsis> Client </span> </a> </li> <li class=md-nav__item> <a href=../../../api/python/models/ class=md-nav__link> <span class=md-ellipsis> Models </span> </a> </li> <li class=md-nav__item> <a href=../../../api/python/exceptions/ class=md-nav__link> <span class=md-ellipsis> Exceptions </span> </a> </li> <li class=md-nav__item> <a href=../../../api/python/enums/ class=md-nav__link> <span class=md-ellipsis> Enums </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_4> <div class="md-nav__link md-nav__container"> <a href=../../../api/rest/ class="md-nav__link "> <span class=md-ellipsis> REST </span> </a> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> REST </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://app.platform.mlcube.com/ class=md-nav__link> <span class=md-ellipsis> Web App </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#supported-triggers class=md-nav__link> <span class=md-ellipsis> Supported Triggers </span> </a> <nav class=md-nav aria-label="Supported Triggers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#event-bus-setup class=md-nav__link> <span class=md-ellipsis> Event Bus Setup </span> </a> </li> <li class=md-nav__item> <a href=#topic-setup class=md-nav__link> <span class=md-ellipsis> Topic Setup </span> </a> </li> <li class=md-nav__item> <a href=#topic-setup_1 class=md-nav__link> <span class=md-ellipsis> Topic Setup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Retrain triggers</h1> <p>This section offers an overview of setting up retrain triggers for your models. These triggers enable the automatic initiation of your retraining pipeline from the ML cube Platform.</p> <p>A retrain trigger can be utilized within a Detection Event Rule. When specific criteria are met, it automatically generates the retrain report and activates the trigger. Alternatively, you can manually activate the trigger for the model on the retraining tool page.</p> <p>A retrain trigger is designed as an integration with an external service and necessitates credentials with the appropriate privileges to execute the action.</p> <h2 id=supported-triggers>Supported Triggers<a class=headerlink href=#supported-triggers title="Permanent link">&para;</a></h2> <p>The following retrain triggers are supported:</p> <ul> <li><code>Amazon EventBridge</code>: puts an event in an Event Bus.</li> <li><code>GCP Pub/Sub</code>: puts an event in a Pub/Sub Topic.</li> <li><code>Azure Event Grid</code>: puts an event in an Event Grid Topic.</li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Amazon EventBridge</label><label for=__tabbed_1_2>Google Cloud Platform</label><label for=__tabbed_1_3>Azure Event Grid</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><a class=glightbox href=../../../imgs/aws.svg data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Amazon Web Services" src=../../../imgs/aws.svg style=height:50px;width:50px></a></p> <p>If your MLOps pipelines are set up in the AWS ecosystem, then you probably need the Amazon EventBridge retrain trigger.</p> <p>The trigger, when activated, will create an event in a Event Bus of your AWS account with custom metadata.</p> <p>You need to create an Event Bus rule that recognizes the ML cube Platform event pattern and attach the target action you want. Examples of targets are:</p> <ul> <li>launching a Lambda function;</li> <li>launching a SageMaker pipeline;</li> <li>sending a message to a SQS Queue with a retraining request.</li> </ul> <h4 id=event-bus-setup>Event Bus Setup<a class=headerlink href=#event-bus-setup title="Permanent link">&para;</a></h4> <ol> <li> <p>In the AWS console, open the Amazon EventBridge service and select the <code>Event buses</code> option in the left-side menu <figure markdown> <a class=glightbox href=../../../imgs/aws%20event%20bridge/0%20aws_event_bus.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/aws%20event%20bridge/0%20aws_event_bus.png width=800></a> </figure></p> </li> <li> <p>In the <code>Custom event bus</code> tab, create a new event bus with the default settings</p> </li> <li> <p>Select the <code>Rules</code> section on the left-side menu and click the <code>Create Rule</code> button <figure markdown> <a class=glightbox href=../../../imgs/aws%20event%20bridge/1%20rule%20detail.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/aws%20event%20bridge/1%20rule%20detail.png width=800></a> </figure></p> </li> <li> <p>Insert the rule name and the created Event Bus in the Event Bus section. Click <code>Next</code></p> <ol> <li><code>Event source</code>: select the voice <em>AWS events or EventBridge partner events</em> <figure markdown> <a class=glightbox href=../../../imgs/aws%20event%20bridge/2%20event%20source.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/aws%20event%20bridge/2%20event%20source.png width=800></a> </figure></li> <li><code>Sample event</code>: copy and paste this: <div class="language-json highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=p>{</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>    </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0&quot;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>    </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;fcdd87c7-f56e-c722-4f85-4cb6ba85a00a&quot;</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>    </span><span class=nt>&quot;detail-type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;retrain_trigger&quot;</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>    </span><span class=nt>&quot;source&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ml3_platform&quot;</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>    </span><span class=nt>&quot;account&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;123456789&quot;</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=w>    </span><span class=nt>&quot;time&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;2023-11-02T14:16:23Z&quot;</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=w>    </span><span class=nt>&quot;region&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;eu-west-3&quot;</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=w>    </span><span class=nt>&quot;resources&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[],</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=w>    </span><span class=nt>&quot;detail&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=w>        </span><span class=nt>&quot;first_param&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;hi&quot;</span><span class=p>,</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=w>        </span><span class=nt>&quot;second_param&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;bye&quot;</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=p>}</span>
</span></code></pre></div> <figure markdown> <a class=glightbox href=../../../imgs/aws%20event%20bridge/3%20sample%20event.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/aws%20event%20bridge/3%20sample%20event.png width=800></a> </figure></li> <li><code>Creation method</code>: select Custom pattern (JSON editor) <figure markdown> <a class=glightbox href=../../../imgs/aws%20event%20bridge/4%20creation%20method.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/aws%20event%20bridge/4%20creation%20method.png width=800></a> </figure></li> <li><code>Event pattern</code>: copy and paste this: <figure markdown> <a class=glightbox href=../../../imgs/aws%20event%20bridge/5%20event%20pattern.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/aws%20event%20bridge/5%20event%20pattern.png width=800></a> </figure> <div class="language-json highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=p>{</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=nt>&quot;source&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[{</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>        </span><span class=nt>&quot;prefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ml3_platform&quot;</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=p>}],</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span><span class=nt>&quot;detail-type&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[{</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>        </span><span class=nt>&quot;prefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;retrain_trigger&quot;</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=p>}]</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=p>}</span>
</span></code></pre></div></li> <li>click the button Test pattern to check the match and then click next</li> </ol> </li> <li> <p>Select the target that will handle the events. If you want to test the rule, you can add a CloudWatch target that stores the event to a new Log Group. <figure markdown> <a class=glightbox href=../../../imgs/aws%20event%20bridge/6%20select%20target.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/aws%20event%20bridge/6%20select%20target.png width=800></a> </figure></p> </li> <li> <p>Create the rule</p> </li> </ol> <p><strong>Retrain Trigger Setup</strong></p> <p>To integrate Amazon Event Bridge, you will need to create a set of AWS credentials, and add a policy that allows to put events in your event bus. Please refer to <a href=../ >this page</a> to know more.</p> <p>Once the credentials and the policy have been created, you can set up the retrain trigger for your model through the SDK or the web application.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-py highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>client</span><span class=o>.</span><span class=n>set_retrain_trigger</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>model_id</span><span class=o>=</span><span class=s1>&#39;your_model_id&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>trigger</span><span class=o>=</span><span class=n>AWSEventBridgeRetrainTrigger</span><span class=p>(</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>        <span class=n>credentials_id</span><span class=o>=</span><span class=s1>&#39;your_credentials_id&#39;</span><span class=p>,</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>        <span class=n>aws_region_name</span><span class=o>=</span><span class=s1>&#39;e.g. eu-west-3&#39;</span><span class=p>,</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>        <span class=n>event_bus_name</span><span class=o>=</span><span class=s1>&#39;your_event_bus&#39;</span><span class=p>,</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>    <span class=p>),</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class=tabbed-block> <p><a class=glightbox href=../../../imgs/gcp.svg data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Google Cloud Platform" src=../../../imgs/gcp.svg style=height:50px;width:50px></a></p> <p>If your MLOps pipelines are set up in the Google Cloud Platform ecosystem, then you probably need the GCP Pub/Sub retrain trigger.</p> <p>The trigger, when activated, will create an event in a Pub/Sub topic of your GCP project with custom metadata.</p> <h4 id=topic-setup>Topic Setup<a class=headerlink href=#topic-setup title="Permanent link">&para;</a></h4> <ol> <li> <p>In the Google Cloud console, open the Pub/Sub service and select the <code>Topics</code> option in the left-side menu <figure markdown> <a class=glightbox href=../../../imgs/gcp%20pubsub/0%20topic.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/gcp%20pubsub/0%20topic.png width=800></a> </figure></p> </li> <li> <p>Click on the <code>Create topic</code> button. Then give it a unique id and create it. <figure markdown> <a class=glightbox href=../../../imgs/gcp%20pubsub/1%20topic_creation.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/gcp%20pubsub/1%20topic_creation.png width=800></a> </figure></p> </li> <li> <p>Configure your subscriptions as needed to configure the service that will handle the events.</p> </li> </ol> <p>The ML cube platform will send events with this format: <div class="language-json highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=p>{</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>    </span><span class=nt>&quot;project_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;your gcp project id&quot;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=nt>&quot;topic_name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;your unique topic id&quot;</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>    </span><span class=nt>&quot;source&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ml3_platform&quot;</span><span class=p>,</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>    </span><span class=nt>&quot;event_type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;retrain_trigger&quot;</span><span class=p>,</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>    </span><span class=nt>&quot;payload&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>        </span><span class=nt>&quot;model_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;id of the model on ml cube platform&quot;</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=p>}</span>
</span></code></pre></div></p> <p><strong>Retrain Trigger Setup</strong></p> <p>To integrate GCP Pub/Sub, you will need to create a set of GCP credentials, and add a policy that allows to put events in your Pub/Sub topic. Please refer to <a href=../ >this page</a> to know more.</p> <p>Once the credentials and the policy have been created, you can set up the retrain trigger for your model through the SDK or the web application.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-py highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>client</span><span class=o>.</span><span class=n>set_retrain_trigger</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>model_id</span><span class=o>=</span><span class=s1>&#39;your_model_id&#39;</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>trigger</span><span class=o>=</span><span class=n>GCPPubSubRetrainTrigger</span><span class=p>(</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>        <span class=n>credentials_id</span><span class=o>=</span><span class=s1>&#39;your_credentials_id&#39;</span><span class=p>,</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>        <span class=n>topic_name</span><span class=o>=</span><span class=s1>&#39;your-topic&#39;</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>    <span class=p>),</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class=tabbed-block> <p><a class=glightbox href=../../../imgs/azure.svg data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Microsoft Azure" src=../../../imgs/azure.svg style=height:50px;width:50px></a></p> <p>If your MLOps pipelines are set up in the Microsoft Azure ecosystem, then you probably need the Azure Event Grid retrain trigger.</p> <p>The trigger, when activated, will create an event in an Event Grid topic of your Azure resource group with custom metadata.</p> <h4 id=topic-setup_1>Topic Setup<a class=headerlink href=#topic-setup_1 title="Permanent link">&para;</a></h4> <ol> <li> <p>In the Azure console, open the Event Grid service and select the <code>Topics</code> option in the left-side menu <figure markdown> <a class=glightbox href=../../../imgs/azure%20eventgrid/0%20topic.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/azure%20eventgrid/0%20topic.png width=800></a> </figure></p> </li> <li> <p>Click on the <code>Create</code> button. Select an active subscription and the resource group, then give the topic a unique name, select your preferred region and create it. <figure markdown> <a class=glightbox href=../../../imgs/azure%20eventgrid/1%20topic_creation.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Image title" src=../../../imgs/azure%20eventgrid/1%20topic_creation.png width=800></a> </figure></p> </li> <li> <p>Configure your subscriptions as needed to configure the service that will handle the events.</p> </li> </ol> <p>The ML cube platform will send events with this format: <div class="language-json highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=p>{</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=nt>&quot;subject&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ml3_platform&quot;</span><span class=p>,</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=nt>&quot;event_type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;retrain_trigger&quot;</span><span class=p>,</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=nt>&quot;data_version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;1.0&quot;</span><span class=p>,</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=nt>&quot;data&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>        </span><span class=nt>&quot;model_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;id of the model on ml cube platform&quot;</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=p>}</span>
</span></code></pre></div></p> <p><strong>Retrain Trigger Setup</strong></p> <p>To integrate Azure Event Grid, you will need to create a set of Azure credentials, and add a role that allows to publish events in your Event Grid topic. Please refer to <a href=../ >this page</a> to know more.</p> <p>Once the credentials and the policy have been created, you can set up the retrain trigger for your model through the SDK or the web application.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-py highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>client</span><span class=o>.</span><span class=n>set_retrain_trigger</span><span class=p>(</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>    <span class=n>model_id</span><span class=o>=</span><span class=s1>&#39;your_model_id&#39;</span><span class=p>,</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>    <span class=n>trigger</span><span class=o>=</span><span class=n>AzureEventGridRetrainTrigger</span><span class=p>(</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>        <span class=n>credentials_id</span><span class=o>=</span><span class=s1>&#39;your_credentials_id&#39;</span><span class=p>,</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>        <span class=n>topic_endpoint</span><span class=o>=</span><span class=s1>&#39;https://your-retrain-topic.italynorth-1.eventgrid.azure.net/api/events&#39;</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>    <span class=p>),</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=p>)</span>
</span></code></pre></div> </div> </div> </div> </div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../data_sources/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Data Sources"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Data Sources </div> </div> </a> <a href=../../rbac/ class="md-footer__link md-footer__link--next" aria-label="Next: User Roles"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> User Roles </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.expand", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.8fd75fb4.min.js></script> <script src=../../../javascripts/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>